@model Mailer.Models.Receiver

@{
    ViewBag.Title = "SendMail";
}

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h2>Send Mail</h2>
            </div>

            <div class="panel-body">
                <p class="lead"> Send Email to one person</p>
                <p>Put in the details of the person you want to mail, select your message template and click send to one, otherwise click send to all to send the mail to everyone on the list</p>
                @using (Html.BeginForm("SendMail", "Home", FormMethod.Post, new { role = "form" }))
            {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-group">
                        @Html.LabelFor(m => m.EmailAddress, new { @class = "control-label" })
                        <div>
                            @Html.TextBoxFor(m => m.EmailAddress, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.EmailAddress, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.FirstName, new { @class = "control-label" })
                        <div>
                            @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.LastName, new { @class = "control-label" })
                        <div>
                            @Html.TextBoxFor(m => m.LastName, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.LastName, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="panel-group">
                        <div class="form-group">
                            <p><label>Select Message Template</label></p>
                            <select class="dropdown" name="@ViewBag.Template">
                                <option value="WelcomeTemplate">Welcome Template</option>
                            </select>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-4">
                                <input type="submit" value="Send Mail to One" class="btn btn-primary" />
                            </div>
                            <div class="col-md-4">
                                <a href="@Url.Action("SendToAll", "Home")" class="btn btn-success">Send Message to All</a>
                            </div>
                            <div class="col-md-4">
                                <a href="@Url.Action("Index", "MailList")" class="btn btn-danger">Manage Mail List</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
